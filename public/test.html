<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css">
  <script src="/js/index.js" type="module" defer></script>
  <title>Test</title>
</head>
<body>
  <div id="overlay" class="d-none"></div>
  <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom border-1 border-dark">
    <div class="container-fluid d-flex align-items-center justify-content-between">
      <a class="navbar-brand" id="module">Module 1</a>

      <span class="navbar-text mx-0" id="time"></span>

      <div>
        <button class="btn btn-black" id="reference">Reference</button>
        <button class="btn btn-black" id="exit">Exit</button>
      </div>
    </div>
  </nav>

  <nav class="navbar navbar-expand-lg navbar-light bg-light border-top border-1 border-dark position-fixed bottom-0 w-100">
    <div class="container-fluid d-flex align-items-center justify-content-between">
      <a class="navbar-brand" id="name"></a>

      <div id="question-nav">
        <div class="d-flex align-items-center">
          <span class="navbar-text ml-0 me-2" id="bottom-question-number">Question <span id="bottom-question-current">0</span> of <span id="bottom-question-total">0</span></span>
          <img src="/resources/grid.svg" role="button" id="open-question-grid">
        </div>
      </div>

      <div id="nav-buttons">
        <button class="btn btn-primary" id="back">Back</button>
        <button class="btn btn-primary" id="next">Next</button>
      </div>
    </div>
  </nav>

  <div id="body" class="d-flex m-5">
    <div class="w-50 d-flex me-5" id="context-wrapper">
      <p id="context"></p>
    </div>
    <div class="vr me-5" id="context-split"></div>
    <div id="question-choices" class="d-flex flex-column w-50">
      <p id="banner" class="user-select-none"><b>Question <span id="top-current-question">0</span></b></p>
      <p id="question"></p>
      <ul id="choices"></ul>
    </div>
  </div>

  <div id="continue-popup" class="position-absolute abs-pos-center container-card allow-events popup d-none">
    <h2>Continue to the next module?</h2>
    <p class="d-none text-danger" id="continue-warning">Warning: You have unanswered questions!</p>
    <p>You have reached the end of this module. Once you continue, you will not be able to go back to this module. 
      You may still go back and check your answers until the time (if any) is up; 
      your answers will be saved and you will automatically move to the next module. </p>

    <hr>
    
    <div class="ms-auto">
      <button class="btn btn-secondary btn-popup-close">Back</button>
      <button id="continue-continue" class="btn btn-primary">Continue</button>
    </div>
  </div>

  <div id="cant-continue-popup" class="position-absolute abs-pos-center container-card allow-events popup d-none">
    <h2>End of module.</h2>
    <p>You have reached the end of this module. For the remaining time, you may check your answers.
      Once the time is up, you will automatically move to the next module.
    </p>

    <hr>

    <div class="ms-auto">
      <button class="btn btn-secondary btn-popup-close">OK</button>
    </div>
  </div>

  <div id="exit-popup" class="position-absolute abs-pos-center container-card allow-events popup d-none">
    <h2>Exit the test?</h2>
    <p>Are you sure you want to exit the test? You will not be able to re-enter the test, 
      unless granted permission by the test administrator, and all progress for this module will be lost.
      You will not receive a score for this test.
    </p>

    <hr>

    <div class="ms-auto">
      <button class="btn btn-secondary btn-popup-close">Back</button>
      <button id="exit-exit" class="btn btn-primary">Exit</button>
    </div>
  </div>

  <div id="reference-popup" class="position-absolute abs-pos-center container-card allow-events popup d-none">
    <img id="reference-img">
    <hr>
    <div class="ms-auto">
      <button class="btn btn-secondary btn-popup-close">Close</button>
    </div>
  </div>

  <div id="questions-popup" class="position-absolute abs-pos-center container-card allow-events popup d-none">
    <h1 class="mb-4">Questions</h1>

    <div id="questions-grid"></div>

    <hr>
    <div class="ms-auto">
      <button class="btn btn-secondary btn-popup-close">Close</button>
    </div>
  </div>
</body>
</html>